---
title: "My Analysis"
author: "Your name"
format:
  html:
    embed-resources: true
    code-fold: false
    number-sections: true
toc: true
toc-title: Sommaire
toc-depth: 4
toc-location: left
execute: 
  eval: false
  echo: true
output:
  html_document:
  output-file: dev_history.html
---

###################  AU QUOTIDIEN  ###############################
3.a. Inclure du code, le documenter et le tester
Pour chaque fonction du package :

```{r}
usethis::use_r("csv_to_parquet")
usethis::use_test("csv_to_parquet")
```

écrire le code de la fonction
documenter la fonction
# Pour mettre à jour la documentation et le NAMESPACE
devtools::document()

```{r}
roxygen2::roxygenise()
```

écrire les tests
exécuter les tests

```{r}
devtools::test()
```

3.b. Si besoin, déclarer une dépendance dans DESCRIPTION

```{r}
usethis::use_package("readr")
```

pour utiliser %>% dans un package
usethis::use_pipe()

Pour réaliser le contrôle de conformité du package

```{r}
devtools::check()
```

3.c. Astuce qui peut aider durant le développement
Charger l'ensemble des fonctions de son package

```{r}
devtools::load_all()
```

Pour le code coverage

```{r}
covr::package_coverage()
covr::report()
```

------------------------------------------------#

Ajout de  `dev/dev_history.R` au .Rbuildignore

```{r}
usethis::use_build_ignore("dev/dev_history.R")
```

Ajout d'un fichier NEWS

```{r}
usethis::use_news_md()
```

Creation du squelette du pkgdown

```{r}
usethis::use_pkgdown()
```

Configuration des GHA

```{r}
usethis::use_github_action(name = "check-release")
```

Ajout des fichiers dans `data-raw`

```{r}
usethis::use_data_raw("region-2022")
```

Creation des vignettes

```{r}
usethis::use_vignette("aa-conversions")
```

Creation du repertoire testthat

```{r}
usethis::use_testthat()
```

Pour avoir le détail du code coverage par fonction

```{r}
covr::report()
```

############### En fin de developpement ##########

Construction du site (uniquement sur SSP Cloud)

```{r}
pkgdown::build_site(override = list(destination = "../website"))
```

Construction du fichier .tar.gz

```{r}
devtools::build()
```

Construction du fichier .zip (format binaire)

```{r}
devtools::build(binary=TRUE)
```

Construction du manuel au format pdf

```{r}
devtools::build_manual(path = "manuel")
```

